const o=(r,e)=>{switch(e.type){case"cancel":return r.controller?.abort(),{...r,aborted:!0,controller:null};case"refresh":return r.controller?.abort(),{...r,aborted:!1,buffer:[],refreshCount:r.refreshCount+1,controller:new AbortController};case"add":return{...r,buffer:r.buffer.concat(e.payload)};case"done":return{...r,done:!0};case"setController":return{...r,controller:e.payload};default:return r}};export{o as streamState};
